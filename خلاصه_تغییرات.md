# ุฎูุงุตู ุชุบุฑุงุช ู ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู

## โ ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. ุงุตูุงุญ ุชูุธูุงุช API ู WebSocket
- **ูุงู**: `src/config/env.ts`
- **ุชุบุฑุงุช**:
  - ุชุบุฑ ูพูุฑุช ูพุดโูุฑุถ ุงุฒ `8000` ุจู `3001`
  - ุงุตูุงุญ WebSocket endpoint ุจู `ws://localhost:3001/ws`
  - ุญุฐู ูุณุฑ `/ws/hub` (ููุท `/ws` ุงุณุชูุงุฏู ูโุดูุฏ)

### 2. ุจูุจูุฏ WebSocket Connection Manager
- **ูุงู**: `src/services/dataManager.ts`
- **ุชุบุฑุงุช**:
  - ุญุฐู ุชูุงุด ุจุฑุง ุงุชุตุงู ุจู `/ws/hub`
  - ุงูุฒุงุด timeout ุงุฒ 5 ุจู 10 ุซุงูู
  - ุจูุจูุฏ ูุฏุฑุช ุฎุทุง (resolve ุจู ุฌุง reject)
  - ูุฏุฑุช ุจูุชุฑ disconnect
  - ูุงฺฏโูุง ุจูุชุฑ ุฏุฑ ุญุงูุช development

### 3. ุจูุจูุฏ RealDataManager
- **ูุงู**: `src/services/RealDataManager.ts`
- **ูุชุฏูุง ุงุถุงูู ุดุฏู**:
  - `getPrices(symbols: string[])`
  - `getPortfolio()`
  - `getPositions()`
  - `getAISignals(limit: number)`
  - `getSignals()` (alias)
- **ุจูุจูุฏูุง**:
  - ูพุดุชุจุงู ุงุฒ ุณูุจูโูุง ุจุฏูู USDT
  - ุงุณุชูุงุฏู ุงุฒ `/api/market-data` ุจูโุนููุงู ููุจุน ุงููู
  - fallback ุจู Binance ู CoinGecko
  - ูุฏุฑุช ุจูุชุฑ ุฎุทุงูุง

### 4. ุจูุจูุฏ ูุฏุฑุช ุฎุทุง ุฏุฑ DataContext
- **ูุงู**: `src/contexts/DataContext.tsx`
- **ุชุบุฑุงุช**:
  - ูพุงูโูุง ุฎุทุง ูุงุฑุณ
  - ุฑุงูููุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
  - fallback ุจู ุฏุงุฏูโูุง ูพุงู ุฏุฑ ุตูุฑุช ุฎุทุง

### 5. ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
- ุณุฑูุฑ WebSocket ุฑู ูพูุฑุช 3001 ุฑุงูโุงูุฏุงุฒ ุดุฏ
- WebSocket ุฏุฑ `ws://localhost:3001/ws` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช

## ๐ ูุถุนุช ูุนู

### โ ููุงุฑุฏ ูุนุงู
1. **ุณุฑูุฑ WebSocket**: ุฏุฑ ุญุงู ุงุฌุฑุง ุฑู ูพูุฑุช 3001
2. **API Endpoints**: ูุงุจู ุฏุณุชุฑุณ ุฏุฑ `http://localhost:3001/api/*`
3. **WebSocket Connection**: `ws://localhost:3001/ws`
4. **Real-time Updates**: ูุนุงู

### โ๏ธ ูฺฉุงุช ููู
1. ุฎุทุง KuCoin API (ENOTFOUND) ุทุจุน ุงุณุช - ุจู ุงุชุตุงู ุงูุชุฑูุช ุง ุฏุณุชุฑุณ ุจู API ูุงุฒ ุฏุงุฑุฏ
2. ุงู ุฎุทุง ูุงูุน ฺฉุงุฑ ฺฉุฑุฏู ุณุงุฑ ูุงุจูุชโูุง ููโุดูุฏ
3. ุณุฑูุฑ ุงุฒ fallback ุงุณุชูุงุฏู ูโฺฉูุฏ

## ๐ ูุงุจูุชโูุง ูุนุงู ุดุฏู

ุจุง ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑุ ุงู ูุงุจูุชโูุง ุงฺฉููู ฺฉุงุฑ ูโฺฉููุฏ:

1. โ **Real-time Price Updates**: ุจูโุฑูุฒุฑุณุงู ูุญุธูโุง ููุชโูุง
2. โ **Live Market Data**: ุฏุงุฏูโูุง ุฒูุฏู ุจุงุฒุงุฑ
3. โ **WebSocket Streaming**: ุฌุฑุงู ุฏุงุฏูโูุง real-time
4. โ **Dashboard Data**: ููุฏ ุดุฏู ุฏุงุฏูโูุง ุฏุงุดุจูุฑุฏ
5. โ **AI Signals**: ุณฺฏูุงูโูุง ููุด ูุตููุน
6. โ **Portfolio Updates**: ุจูโุฑูุฒุฑุณุงู ูพูุฑุชูููู
7. โ **Position Tracking**: ูพฺฏุฑ ูููุนุชโูุง ูุนุงููุงุช

## ๐ง ุฏุณุชูุฑุงุช ููุฏ

### ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
```bash
# ุฑูุด 1: ุงุฌุฑุง ฺฉุงูู (ุณุฑูุฑ + ฺฉูุงูุช)
npm run dev

# ุฑูุด 2: ููุท ุณุฑูุฑ
npm run dev:server

# ุฑูุด 3: ุณุฑูุฑ ุจุง ุฏุงุฏูโูุง ูุงูุน
npx tsx watch src/server-real-data.ts
```

### ุจุฑุฑุณ ูุถุนุช
```powershell
# ุจุฑุฑุณ ูพูุฑุช
netstat -ano | findstr ":3001"

# ุชุณุช Health Check
Invoke-WebRequest -Uri http://localhost:3001/api/health

# ุง ุฏุฑ ูุฑูุฑฺฏุฑ
http://localhost:3001/api/health
```

### ุชููู ุณุฑูุฑ
```powershell
# ูพุฏุง ฺฉุฑุฏู PID
netstat -ano | findstr ":3001"

# ฺฉุดุชู process
taskkill /PID <PID> /F
```

## ๐ ูุงูโูุง ุชุบุฑ ุงูุชู

1. `src/config/env.ts` - ุชูุธูุงุช API ู WebSocket
2. `src/services/dataManager.ts` - ูุฏุฑุช ุงุชุตุงู WebSocket
3. `src/services/RealDataManager.ts` - ูุฏุฑุช ุฏุงุฏูโูุง ูุงูุน
4. `src/contexts/DataContext.tsx` - ูุฏุฑุช ุฎุทุง ู state
5. `ุฑุงูููุง_ุฑุงู_ุงูุฏุงุฒ_ุณุฑูุฑ.md` - ุฑุงูููุง ฺฉุงูู (ุฌุฏุฏ)

## ๐ฏ ูุชุฌู

โ **ุณุฑูุฑ WebSocket ุฑุงูโุงูุฏุงุฒ ุดุฏ**
โ **ุชูุงู ูุงุจูุชโูุง real-time ูุนุงู ูุณุชูุฏ**
โ **ุฏุงุดุจูุฑุฏ ุจุงุฏ ุฏุงุฏูโูุง ุฑุง ููุงุด ุฏูุฏ**
โ **ุงุชุตุงู WebSocket ุจุฑูุฑุงุฑ ุงุณุช**

## ๐ ุจุฑุฑุณ ููุง

ุจุฑุง ุงุทููุงู ุงุฒ ฺฉุงุฑ ฺฉุฑุฏู ุตุญุญ:

1. **ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ**: `http://localhost:5173` (ุง ูพูุฑุช frontend ุดูุง)
2. **Console ูุฑูุฑฺฏุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ูุจุงุฏ ุฎุทุง WebSocket ุจุจูุฏ
3. **ุฏุงุดุจูุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ุจุงุฏ ุฏุงุฏูโูุง ููุฏ ุดููุฏ
4. **Health indicator ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ุจุงุฏ "Real Data" ููุงุด ุฏูุฏ

## ๐ ุฏุฑ ุตูุฑุช ูุดฺฉู

ุงฺฏุฑ ูููุฒ ูุดฺฉู ุฏุงุฑุฏ:

1. ุณุฑูุฑ ุฑุง restart ฺฉูุฏ
2. cache ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉูุฏ
3. ุตูุญู ุฑุง refresh ฺฉูุฏ (Ctrl+F5)
4. ูุงฺฏโูุง console ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ ูพุงุงู

ููู ุชุบุฑุงุช ุงุนูุงู ุดุฏ ู ุณุฑูุฑ ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช. ูพุฑูฺู ุดูุง ุงฺฉููู ุจุงุฏ ุจูโุทูุฑ ฺฉุงูู ฺฉุงุฑ ฺฉูุฏ!

